# OJP Production Environment Configuration
# File: ojp-prod.properties
#
# This configuration is optimized for production environments with:
# - Larger connection pools for high concurrency
# - Optimized timeouts for performance
# - Production-grade settings for reliability and scalability

# ============================================================================
# Connection Pool Configuration (Non-XA)
# ============================================================================

# Large pool size for production - handles high concurrent load
ojp.connection.pool.maximumPoolSize=50
ojp.connection.pool.minimumIdle=10

# Production-optimized timeouts
ojp.connection.pool.connectionTimeout=15000
ojp.connection.pool.idleTimeout=600000
ojp.connection.pool.maxLifetime=1800000

# Transaction isolation level
ojp.connection.pool.defaultTransactionIsolation=READ_COMMITTED

# ============================================================================
# XA Connection Pool Configuration
# ============================================================================

# XA pool settings for production - larger pools for distributed transactions
ojp.xa.connection.pool.maxTotal=40
ojp.xa.connection.pool.minIdle=8
ojp.xa.connection.pool.connectionTimeout=25000
ojp.xa.connection.pool.idleTimeout=600000
ojp.xa.connection.pool.maxLifetime=1800000
ojp.xa.connection.pool.timeBetweenEvictionRuns=30000
ojp.xa.connection.pool.numTestsPerEvictionRun=10
ojp.xa.connection.pool.softMinEvictableIdleTime=60000

# ============================================================================
# Named DataSource Configurations
# ============================================================================

# Web application datasource - highest concurrency requirements
webapp.ojp.connection.pool.maximumPoolSize=60
webapp.ojp.connection.pool.minimumIdle=15
webapp.ojp.connection.pool.connectionTimeout=10000
webapp.ojp.connection.pool.idleTimeout=600000

# Web application XA pool
webapp.ojp.xa.connection.pool.maxTotal=50
webapp.ojp.xa.connection.pool.minIdle=10
webapp.ojp.xa.connection.pool.connectionTimeout=20000

# API service datasource - high concurrency with shorter timeouts
api.ojp.connection.pool.maximumPoolSize=40
api.ojp.connection.pool.minimumIdle=10
api.ojp.connection.pool.connectionTimeout=8000
api.ojp.connection.pool.idleTimeout=300000

# API service XA pool
api.ojp.xa.connection.pool.maxTotal=30
api.ojp.xa.connection.pool.minIdle=8
api.ojp.xa.connection.pool.connectionTimeout=15000

# Batch processing datasource - moderate concurrency, longer timeouts
batchJob.ojp.connection.pool.maximumPoolSize=20
batchJob.ojp.connection.pool.minimumIdle=5
batchJob.ojp.connection.pool.connectionTimeout=30000
batchJob.ojp.connection.pool.maxLifetime=3600000

# Batch processing XA pool
batchJob.ojp.xa.connection.pool.maxTotal=15
batchJob.ojp.xa.connection.pool.minIdle=3
batchJob.ojp.xa.connection.pool.connectionTimeout=30000

# Reporting/Analytics datasource - read-heavy, lower concurrency
reporting.ojp.connection.pool.maximumPoolSize=15
reporting.ojp.connection.pool.minimumIdle=3
reporting.ojp.connection.pool.connectionTimeout=20000
reporting.ojp.connection.pool.idleTimeout=900000

# Reporting XA pool
reporting.ojp.xa.connection.pool.maxTotal=10
reporting.ojp.xa.connection.pool.minIdle=2
reporting.ojp.xa.connection.pool.connectionTimeout=25000

# ============================================================================
# gRPC Configuration
# ============================================================================

# Maximum inbound message size (32MB for production - handles larger result sets)
ojp.grpc.maxInboundMessageSize=33554432
